<!DOCTYPE html> 
<html lang="es"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Calculadora de Conversiones - Números Complejos</title>
    <style> 
/* ==================== RESET BÁSICO ==================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ==================== ESTRUCTURA GENERAL ==================== */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
    line-height: 1.6;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    padding: 30px;
    animation: fadeIn 0.8s ease forwards;
}

/* ==================== ENCABEZADOS ==================== */
h1 {
    text-align: center;
    color: white;
    margin-bottom: 25px;
    font-size: 2.2em;
    letter-spacing: 1px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    font-weight: 400;
}

h2 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 1.3em;
    font-weight: 500;
    text-shadow: none;
}

/* ==================== PANEL INSTITUCIONAL ==================== */
.container > div:first-of-type {
    background: white !important;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    padding: 20px 25px !important;
    margin-bottom: 25px !important;
    font-size: 15px !important;
    color: #667eea !important;
    text-align: left;
    line-height: 1.8;
}

/* ==================== INSTRUCCIONES ==================== */
.instructions {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
    font-size: 14px;
    color: #555;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.instructions strong {
    color: #667eea;
    font-size: 1.1em;
}

.instructions ul {
    margin-left: 20px;
    margin-top: 12px;
}

.instructions li {
    margin-bottom: 8px;
    color: #666;
}

/* ==================== SECCIONES DE FORMULARIO ==================== */
.form-section {
    margin-bottom: 25px;
    border: none;
    border-radius: 15px;
    padding: 25px;
    background: white;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.form-section:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
}

.input-group {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.input-group:last-child {
    margin-bottom: 0;
}

/* ==================== ETIQUETAS Y OPERADORES ==================== */
label {
    min-width: 30px;
    font-weight: 600;
    color: #667eea;
    font-size: 16px;
}

.operator {
    font-size: 16px;
    color: #666;
    margin: 0 5px;
    font-weight: 500;
}

/* ==================== CAMPOS DE ENTRADA ==================== */
input[type="text"] {
    width: 120px;
    padding: 10px 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 14px;
    text-align: center;
    font-family: 'Courier New', monospace;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

input[type="text"]:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

input[readonly] {
    background-color: #f5f5f5 !important;
    cursor: not-allowed;
    border-color: #e0e0e0;
}

/* ==================== RESULTADOS ==================== */
.result {
    background: rgba(102, 126, 234, 0.1);
    padding: 15px 20px;
    border-radius: 10px;
    border-left: 4px solid #667eea;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    color: #333;
    min-height: 50px;
    display: flex;
    align-items: center;
    font-weight: bold;
    margin-top: 15px;
}

/* ==================== BOTÓN LIMPIAR ==================== */
.clear-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 15px;
    margin-top: 25px;
    display: block;
    margin-left: auto;
    margin-right: auto;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.clear-btn:hover {
    transform: translateY(-3px);
    opacity: 0.9;
}

.clear-btn:active {
    transform: translateY(-1px);
}

/* ==================== ANIMACIONES ==================== */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    h1 {
        font-size: 1.8em;
    }

    .container {
        padding: 20px;
    }

    .input-group {
        flex-direction: column;
        align-items: flex-start;
    }

    input[type="text"] {
        width: 100%;
    }

    .form-section {
        padding: 20px;
    }
}

@media (max-width: 480px) {
    h1 {
        font-size: 1.5em;
    }

    h2 {
        font-size: 1.1em;
    }

    .instructions {
        font-size: 13px;
    }

    .result {
        font-size: 14px;
    }
}
</style> 
</head>  
<body> 
    <div class="container"> 
        <h1>Calculadora de Conversiones de Números Complejos</h1>

<!-- Información institucional debajo del título -->
<div style="
    background: linear-gradient(90deg, #e3f2fd 0%, #f5f2f3 100%);
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    padding: 16px 24px;
    margin-bottom: 24px;
    font-size: 16px;
    color: #1a237e;
    text-align: left;
">
    <strong>Institución:</strong> Tecnológico de Software<br>
    <strong>Materia:</strong> Fundamentos de Álgebra<br>
    <strong>Docente:</strong> Jorge Javier Pedroza Romero<br>
    <strong>Alumno:</strong> Enrique Zavala<br>
    <strong>Grupo:</strong> C
</div> 

        <div class="instructions"> 
            <strong>Instrucciones:</strong> 
            <ul> 
               <li>Ingresa un número complejo en cualquiera de las tres 
formas</li> 
               <li>Las otras formas se calcularán automáticamente</li> 
               <li>Los ángulos se expresan en radianes y en múltiplos de 
pi cuando es posible</li> 
               <li>Para ángulos puedes usar: pi, pi/2, pi/4, pi/3, pi/6, 
2*pi, etc.</li> 
               <li>Para raíces cuadradas puedes usar: sqrt(2), sqrt(3), 
sqrt(5), etc.</li> 
               <li>Usa números decimales (ejemplo: 1.5, -2.7, 0.5)</li> 
           </ul> 
       </div>
       <!-- Forma Cartesiana --> 
<div class="form-section"> 
    <h2>Forma Cartesiana: a + bi</h2> 
    <div class="input-group"> 
        <label>z =</label> 
        <input type="text" id="real" placeholder="a (ej: sqrt(2))"> 
        <span class="operator">+</span> 
        <input type="text" id="imag" placeholder="b (ej: sqrt(3))"> 
        <span class="operator">i</span> 
    </div> 
    <div class="result" id="cartesian-result">Ingresa los valores 
arriba</div> 
</div> 
<!-- Forma Polar --> 
<div class="form-section"> 
<h2>Forma Polar: r(cos θ + i sin θ)</h2> 
<div class="input-group"> 
<label>z =</label> 
<input type="text" id="modulus" placeholder="r (ej: sqrt(2))"> 
<span class="operator">(cos</span> 
<input type="text" id="angle" placeholder="θ (ej: pi/2)"> 
<span class="operator">+ i sin</span> 
<input type="text" id="angle2" placeholder="θ" readonly 
style="background: #f0f0f0;"> 
<span class="operator">)</span> 
</div> 
<div class="result" id="polar-result">Ingresa los valores arriba</div> 
</div>
<!-- Forma Exponencial --> 
<div class="form-section"> 
<h2>Forma Exponencial: re^(iθ)</h2> 
<div class="input-group"> 
<label>z =</label> 
<input type="text" id="exp-modulus" placeholder="r (ej: sqrt(5))"> 
<span class="operator">e^(i*</span> 
<input type="text" id="exp-angle" placeholder="θ (ej: pi/4)"> 
<span class="operator">)</span> 
</div> 
<div class="result" id="exponential-result">Ingresa los valores 
arriba</div> 
</div> 
<button class="clear-btn" onclick="clearAll()">Limpiar Todo</button>   
   </div> 
   <script> 
/* ==================== VARIABLES GLOBALES ==================== */ 
let isUpdating = false; // Previene bucles infinitos durante 
/* ==================== FUNCIONES DE PARSEO ==================== */ 
/** 
 * Convierte una cadena de texto a número, soportando expresiones 
matemáticas 
 */ 
// ...existing code...
function parseNumber(input) { 
    if (input === undefined || input === null) return NaN; 
    const inputStr = input.toString().trim(); 
    if (!inputStr) return NaN; 
    let expression = inputStr 
        .replace(/sqrt\s*\(/gi, 'Math.sqrt(') 
        .replace(/pi\b/gi, 'Math.PI'); 
    try { 
        const result = Function('"use strict"; return (' + expression + ')')(); 
        if (isNaN(result) || !isFinite(result)) { 
            return NaN; 
        } 
        return result; 
    } catch (error) { 
        return NaN; 
    } 
}
// ...existing code... 
/** 
* Convierte una cadena de texto a ángulo en radianes 
*/ 
function parseAngle(input) { 
return parseNumber(input); // Usa la misma lógica que parseNumber 
} 
console.log('Funciones de parseo inicializadas');
/* ==================== FUNCIONES DE FORMATO ==================== */ 
/** 
 * Convierte un ángulo en radianes a su representación en múltiplos 
de pi 
 */ 
function angleToPI(angle) { 
    if (Math.abs(angle) < 1e-8) return "0"; 
     
    // Múltiplos comunes de pi 
    const piMultiples = [ 
        { value: Math.PI, text: "pi" }, 
        { value: Math.PI/2, text: "pi/2" }, 
        { value: Math.PI/3, text: "pi/3" }, 
        { value: Math.PI/4, text: "pi/4" }, 
        { value: Math.PI/6, text: "pi/6" }, 
        { value: 2*Math.PI, text: "2*pi" }, 
        { value: 3*Math.PI/2, text: "3*pi/2" }, 
        { value: 2*Math.PI/3, text: "2*pi/3" }, 
        { value: 3*Math.PI/4, text: "3*pi/4" }, 
        { value: 5*Math.PI/6, text: "5*pi/6" }, 
        { value: 5*Math.PI/4, text: "5*pi/4" }, 
        { value: 4*Math.PI/3, text: "4*pi/3" }, 
        { value: 5*Math.PI/3, text: "5*pi/3" }, 
        { value: 7*Math.PI/4, text: "7*pi/4" }, 
        // Valores negativos 
        { value: -Math.PI, text: "-pi" }, 
        { value: -Math.PI/2, text: "-pi/2" }, 
        { value: -Math.PI/3, text: "-pi/3" }, 
        { value: -Math.PI/4, text: "-pi/4" }, 
        { value: -Math.PI/6, text: "-pi/6" } 
    ]; 
 
    // Buscar coincidencia exacta
       for (let pm of piMultiples) { 
        if (Math.abs(angle - pm.value) < 1e-8) { 
            return pm.text; 
        } 
    } 
 
    // Intentar expresar como fracción de pi 
    const ratio = angle / Math.PI; 
     
    // Múltiplo entero de pi 
    if (Math.abs(ratio - Math.round(ratio)) < 1e-8) { 
        const intRatio = Math.round(ratio); 
        if (intRatio === 1) return "pi"; 
        if (intRatio === -1) return "-pi"; 
        if (intRatio === 0) return "0"; 
        return intRatio + "*pi"; 
    } 
 
    // Fracciones simples de pi 
    const denominators = [2, 3, 4, 6, 8, 12]; 
    for (let den of denominators) { 
        const num = ratio * den; 
        if (Math.abs(num - Math.round(num)) < 1e-8) { 
            const intNum = Math.round(num); 
            if (intNum === 0) return "0"; 
            if (den === 1) { 
                return intNum === 1 ? "pi" : intNum === -1 ? "-pi" : 
intNum + "*pi"; 
            } 
            if (intNum === 1) return "pi/" + den; 
            if (intNum === -1) return "-pi/" + den; 
            return intNum + "*pi/" + den; 
        } 
    } 
 
    // Si no se puede expresar como múltiplo de pi, usar decimal 
    return angle.toFixed(6); 
}
/** 
 * Formatea un número mostrando fracciones y raíces cuando sea 
posible 
 */ 
function formatNumber(num) { 
    if (Math.abs(num) < 1e-10) return "0"; 
     
    // Raíces cuadradas comunes 
    const sqrtValues = [ 
        { value: Math.sqrt(2), text: "√2" }, 
        { value: Math.sqrt(3), text: "√3" }, 
        { value: Math.sqrt(5), text: "√5" }, 
        { value: Math.sqrt(6), text: "√6" }, 
        { value: Math.sqrt(7), text: "√7" }, 
        { value: Math.sqrt(8), text: "2√2" }, 
        { value: Math.sqrt(2)/2, text: "√2/2" }, 
        { value: Math.sqrt(3)/2, text: "√3/2" }, 
        { value: Math.sqrt(3)/3, text: "√3/3" }, 
        { value: -Math.sqrt(2), text: "-√2" }, 
        { value: -Math.sqrt(3), text: "-√3" }, 
        { value: -Math.sqrt(2)/2, text: "-√2/2" }, 
        { value: -Math.sqrt(3)/2, text: "-√3/2" } 
    ]; 
 
    // Verificar raíces 
    for (let sv of sqrtValues) { 
        if (Math.abs(num - sv.value) < 1e-8) { 
            return sv.text; 
        } 
    } 
 
    // Fracciones comunes 
    const fractions = [ 
        { value: 1/2, text: "1/2" }, 
        { value: 1/3, text: "1/3" }, 
        { value: 2/3, text: "2/3" }, 
        { value: 1/4, text: "1/4" }, 
        { value: 3/4, text: "3/4" }, 
        { value: 1/6, text: "1/6" }, 
                { value: 5/6, text: "5/6" }, 
        { value: -1/2, text: "-1/2" }, 
        { value: -1/3, text: "-1/3" }, 
        { value: -2/3, text: "-2/3" } 
    ]; 
 
    // Verificar fracciones 
    for (let frac of fractions) { 
        if (Math.abs(num - frac.value) < 1e-8) { 
            return frac.text; 
        } 
    } 
 
    // Enteros 
    if (Math.abs(num - Math.round(num)) < 1e-8) { 
        return Math.round(num).toString(); 
    } 
 
    // Decimal con precisión limitada 
    return parseFloat(num.toFixed(6)).toString(); 
} 
 
/** 
 * Normaliza un ángulo al rango (-π, π] 
 */ 
function normalizeAngle(angle) { 
    while (angle > Math.PI) angle -= 2 * Math.PI; 
    while (angle <= -Math.PI) angle += 2 * Math.PI; 
    return angle; 
} 
/* ==================== FUNCIONES DE CONVERSIÓN ==================== 
*/ 
/** 
 * Actualiza todas las formas cuando se modifica la forma cartesiana 
 */ 
function updateFromCartesian() { 
    if (isUpdating) return; 
    isUpdating = true; 
 
    // Obtener valores de los campos 
   // ...existing code...
const real = parseNumber(document.getElementById('real').value);
const imag = parseNumber(document.getElementById('imag').value);

if (isNaN(real) || isNaN(imag)) {
    updateResults(0, 0, 0, 0);
    isUpdating = false;
    return;
}
// ...existing code... 
 
    // Calcular módulo y argumento 
    const modulus = Math.sqrt(real * real + imag * imag); 
    let angle = Math.atan2(imag, real); 
    angle = normalizeAngle(angle); 
 
    // Actualizar forma polar 
    const modulusFormatted = formatNumber(modulus); 
    const angleFormatted = angleToPI(angle); 
     
    document.getElementById('modulus').value = modulusFormatted; 
    document.getElementById('angle').value = angleFormatted; 
    document.getElementById('angle2').value = angleFormatted; 
 
    // Actualizar forma exponencial 
    document.getElementById('exp-modulus').value = modulusFormatted; 
    document.getElementById('exp-angle').value = angleFormatted; 
 
    // Actualizar resultados mostrados 
        updateResults(real, imag, modulus, angle); 
 
    isUpdating = false; 
} 
 
/** 
 * Actualiza todas las formas cuando se modifica la forma polar 
 */ 
function updateFromPolar() { 
    if (isUpdating) return; 
    isUpdating = true; 
 
    // Obtener valores de los campos 
    const modulus = 
parseNumber(document.getElementById('modulus').value) || 0; 
    const angle = parseAngle(document.getElementById('angle').value) 
|| 0; 
    const normalizedAngle = normalizeAngle(angle); 
 
    // Sincronizar segundo campo de ángulo 
    const angleFormatted = angleToPI(normalizedAngle); 
    document.getElementById('angle2').value = angleFormatted; 
 
    // Calcular coordenadas cartesianas 
    const real = modulus * Math.cos(normalizedAngle); 
    const imag = modulus * Math.sin(normalizedAngle); 
 
    // Actualizar forma cartesiana 
    document.getElementById('real').value = formatNumber(real); 
    document.getElementById('imag').value = formatNumber(imag); 
 
    // Actualizar forma exponencial 
    document.getElementById('exp-modulus').value = 
formatNumber(modulus); 
    document.getElementById('exp-angle').value = angleFormatted; 
 
    // Actualizar resultados mostrados 
    updateResults(real, imag, modulus, normalizedAngle);
    isUpdating = false; 
} 
/** 
 * Actualiza todas las formas cuando se modifica la forma exponencial 
 */ 
function updateFromExponential() { 
    if (isUpdating) return; 
    isUpdating = true; 
 
    // Obtener valores de los campos 
    const modulus = 
parseNumber(document.getElementById('exp-modulus').value) || 0; 
    const angle = 
parseAngle(document.getElementById('exp-angle').value) || 0; 
    const normalizedAngle = normalizeAngle(angle); 
 
    // Calcular coordenadas cartesianas 
    const real = modulus * Math.cos(normalizedAngle); 
    const imag = modulus * Math.sin(normalizedAngle); 
 
    // Actualizar forma cartesiana 
    document.getElementById('real').value = formatNumber(real); 
    document.getElementById('imag').value = formatNumber(imag); 
 
    // Actualizar forma polar 
    const angleFormatted = angleToPI(normalizedAngle); 
    document.getElementById('modulus').value = formatNumber(modulus); 
    document.getElementById('angle').value = angleFormatted; 
    document.getElementById('angle2').value = angleFormatted; 
 
    // Actualizar resultados mostrados 
    updateResults(real, imag, modulus, normalizedAngle); 
 
    isUpdating = false; 
}
/** 
 * Actualiza los resultados mostrados en todas las secciones 
 */ 
function updateResults(real, imag, modulus, angle) { 
    const angleText = angleToPI(angle); 
     
    // Resultado cartesiano 
    let cartesianText = ""; 
    if (real !== 0 || imag !== 0) { 
        if (real !== 0) { 
            cartesianText += formatNumber(real); 
        } 
        if (imag > 0) { 
            cartesianText += (real !== 0 ? " + " : ""); 
            if (imag === 1) { 
                cartesianText += "i"; 
            } else { 
                cartesianText += formatNumber(imag) + "i"; 
            } 
        } else if (imag < 0) { 
            cartesianText += " - "; 
            if (imag === -1) { 
                cartesianText += "i"; 
            } else { 
                cartesianText += formatNumber(-imag) + "i"; 
            } 
        } 
        if (cartesianText === "") cartesianText = "0"; 
    } else { 
        cartesianText = "0"; 
    } 
    document.getElementById('cartesian-result').textContent = "z = " 
+ cartesianText; 
    // Resultado polar 
    let polarText = ""; 
    if (modulus !== 0) { 
        polarText = formatNumber(modulus) + "(cos(" + angleText + ") + i sin(" + angleText + "))"; 
    } else { 
        polarText = "0"; 
    } 
    document.getElementById('polar-result').textContent = "z = " + 
polarText; 
 
    // Resultado exponencial 
    let expText = ""; 
    if (modulus !== 0) { 
        expText = formatNumber(modulus) + "e^(i*" + angleText + ")"; 
    } else { 
        expText = "0"; 
    } 
    document.getElementById('exponential-result').textContent = "z = " + expText; 
} 
/* ==================== FUNCIONES AUXILIARES ==================== */ 
/** 
 * Limpia todos los campos de entrada y resultados 
 */ 
// ...existing code...
function clearAll() { 
    // Limpiar todos los campos de entrada 
    const inputs = document.querySelectorAll('input[type="text"]'); 
    inputs.forEach(input => { 
        input.value = ''; 
    }); 
    // Limpiar todos los resultados 
    const results = document.querySelectorAll('.result'); 
    results.forEach(result => result.textContent = 'Ingresa los valores arriba'); 
}
// ...existing code...

/* ==================== CONFIGURACIÓN DE EVENTOS ==================== 
*/ 
/** 
 * Configura los event listeners cuando el DOM está listo 
 */ 
document.addEventListener('DOMContentLoaded', function() { 
    // Event listeners para forma cartesiana 
    document.getElementById('real').addEventListener('input', 
updateFromCartesian); 
    document.getElementById('imag').addEventListener('input', 
updateFromCartesian); 
    // Event listeners para forma polar 
    document.getElementById('modulus').addEventListener('input', 
updateFromPolar); 
    document.getElementById('angle').addEventListener('input', 
function() { 
        document.getElementById('angle2').value = this.value; 
        updateFromPolar(); 
    }); 
 
    // Event listeners para forma exponencial 
    document.getElementById('exp-modulus').addEventListener('input', 
updateFromExponential); 
    document.getElementById('exp-angle').addEventListener('input', 
updateFromExponential); 
     
    // Event listeners para tecla Enter en cualquier campo 
    const inputs = document.querySelectorAll('input[type="text"]'); 
    inputs.forEach(input => { 
        if (!input.readOnly) { 
            input.addEventListener('keypress', function(e) { 
                if (e.key === 'Enter') { 
                    input.blur(); // Quitar foco para activar el evento input 
                } 
            }); 
        } 
    }); 
     
    console.log('Event listeners configurados correctamente'); 
    console.log('Calculadora de números complejos lista para usar'); 
});
</script>
</body> 
</html>