<!DOCTYPE html> 
<html lang="es"> 
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<title>Visualizador de la Recta Numérica - Fundamentos de 
Álgebra</title>
</head>
<style>
/* ==================== RESET Y TIPOGRAFÍA ==================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
}

/* ==================== CONTENEDOR PRINCIPAL ==================== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.8s ease forwards;
}

/* ==================== ENCABEZADOS ==================== */
h1 {
    text-align: center;
    color: white;
    font-size: 2.5em;
    margin-bottom: 10px;
    letter-spacing: 2px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

h2, h3 {
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    margin-bottom: 20px;
}

.container > p {
    text-align: center;
    color: white;
    font-size: 1.1em;
    opacity: 0.9;
    margin-bottom: 30px;
}

/* ==================== SECCIÓN DE CONTROLES ==================== */
.controls {
    background: white;
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.controls h2 {
    color: #667eea;
    text-shadow: none;
}

/* ==================== INPUT GROUP ==================== */
.input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
    margin-bottom: 20px;
}

.input-group label {
    color: #333;
    font-weight: bold;
    width: 100%;
}

.input-group input {
    flex: 1;
    padding: 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 1em;
    transition: border-color 0.3s ease;
}

.input-group input:focus {
    outline: none;
    border-color: #667eea;
}

/* ==================== BOTONES ==================== */
button, .distance-btn, .preset-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.3s ease, opacity 0.3s ease;
    font-size: 1em;
}

button:hover, .distance-btn:hover, .preset-btn:hover {
    transform: translateY(-3px);
    opacity: 0.9;
}

button:active, .distance-btn:active, .preset-btn:active {
    transform: translateY(-1px);
}

/* ==================== NÚMEROS PREDEFINIDOS ==================== */
.preset-section {
    background: rgba(102, 126, 234, 0.1);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
}

.preset-section h3 {
    color: #667eea;
    text-shadow: none;
    margin-bottom: 10px;
}

.preset-section p {
    color: #666;
    margin-bottom: 15px;
}

.preset-numbers {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.preset-btn {
    display: inline-block;
    padding: 10px 16px;
    font-size: 1.1em;
}

/* ==================== RECTA NUMÉRICA ==================== */
.number-line-container {
    background: white;
    border-radius: 15px;
    padding: 30px;
    margin-bottom: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.number-line-container h2 {
    color: #667eea;
    text-shadow: none;
}

.number-line {
    position: relative;
    height: 150px;
    margin: 40px 0;
}

.line {
    position: absolute;
    top: 50%;
    left: 5%;
    right: 5%;
    height: 3px;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    transform: translateY(-50%);
}

.tick {
    position: absolute;
    top: 50%;
    width: 2px;
    height: 15px;
    background: #333;
    transform: translate(-50%, -50%);
}

.tick-label {
    position: absolute;
    top: 70%;
    transform: translateX(-50%);
    font-size: 0.85em;
    color: #666;
    font-weight: 500;
}

.number-point {
    position: absolute;
    top: 50%;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    cursor: pointer;
    transition: transform 0.3s ease;
    border: 2px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.number-point:hover {
    transform: translate(-50%, -50%) scale(1.3);
}

.point-label {
    position: absolute;
    bottom: 25px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 5px 10px;
    border-radius: 6px;
    font-size: 0.85em;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.number-point:hover .point-label {
    opacity: 1;
}

/* Colores por clasificación */
.number-point.naturals {
    background: #e74c3c;
}

.number-point.integers {
    background: #3498db;
}

.number-point.rationals {
    background: #27ae60;
}

.number-point.irrationals {
    background: #f1c40f;
}

.range-info {
    text-align: center;
    color: #999;
    margin-top: 20px;
}

/* ==================== PANELES DE INFORMACIÓN ==================== */
.info-panels {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
}

.classification-panel, .points-panel, .distance-calculator {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.classification-panel:hover, .points-panel:hover, .distance-calculator:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
}

.classification-panel h3, .points-panel h3, .distance-calculator h3 {
    color: #667eea;
    text-shadow: none;
}

/* ==================== LEYENDA DE CLASIFICACIÓN ==================== */
.classification-legend {
    margin-bottom: 20px;
}

.legend-item {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
}

.legend-color {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    margin-right: 10px;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.legend-color.naturals {
    background: #e74c3c;
}

.legend-color.integers {
    background: #3498db;
}

.legend-color.rationals {
    background: #27ae60;
}

.legend-color.irrationals {
    background: #f1c40f;
}

.legend-item span {
    color: #333;
    font-size: 0.95em;
}

.classification-info {
    background: rgba(102, 126, 234, 0.1);
    padding: 15px;
    border-radius: 10px;
}

.classification-info h4 {
    color: #667eea;
    margin-bottom: 10px;
}

.classification-info ul {
    list-style: none;
    padding: 0;
}

.classification-info li {
    color: #666;
    padding: 5px 0;
    border-bottom: 1px solid rgba(102, 126, 234, 0.1);
}

.classification-info li:last-child {
    border-bottom: none;
}

/* ==================== LISTA DE PUNTOS ==================== */
.empty-state {
    text-align: center;
    padding: 30px;
    color: #999;
}

.empty-state p {
    margin-bottom: 10px;
}

.point-item {
    padding: 15px;
    margin-bottom: 10px;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.point-item strong {
    color: #667eea;
}

.point-item small {
    color: #999;
}

/* ==================== CALCULADORA DE DISTANCIAS ==================== */
.calculator-description {
    color: #666;
    margin-bottom: 20px;
    text-align: center;
}

.distance-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.distance-field label {
    display: block;
    color: #333;
    font-weight: bold;
    margin-bottom: 8px;
}

/* ==================== SELECT PERSONALIZADO ==================== */
.custom-select {
    position: relative;
    cursor: pointer;
}

.select-selected {
    background: rgba(102, 126, 234, 0.1);
    color: #333;
    border-radius: 8px;
    padding: 12px;
    border: 2px solid #e0e0e0;
    transition: border-color 0.3s ease;
}

.select-selected:hover {
    border-color: #667eea;
}

.select-items {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #667eea;
    border-radius: 8px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    max-height: 200px;
    overflow-y: auto;
    z-index: 99;
    display: none;
    margin-top: 5px;
}

.select-items.show {
    display: block;
}

.select-items div {
    padding: 12px;
    cursor: pointer;
    transition: background 0.3s ease;
    color: #333;
}

.select-items div:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.distance-btn {
    width: 100%;
    padding: 15px;
    font-size: 1.1em;
    margin-bottom: 20px;
}

#distanceResult {
    min-height: 80px;
    background: rgba(102, 126, 234, 0.05);
    border-radius: 10px;
    padding: 15px;
}

.distance-placeholder {
    text-align: center;
    color: #999;
}

.distance-result {
    text-align: center;
    color: #333;
    font-size: 1.1em;
}

.distance-result strong {
    color: #667eea;
}

/* ==================== FOOTER/INFO FINAL ==================== */
body > div:last-child {
    max-width: 1200px;
    margin: 30px auto;
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    padding: 25px;
    color: #667eea;
    line-height: 1.8;
}

/* ==================== ANIMACIONES ==================== */
@keyframes fadeIn {
    from { 
        opacity: 0; 
        transform: translateY(20px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    h1 {
        font-size: 1.8em;
    }

    .info-panels {
        grid-template-columns: 1fr;
    }

    .distance-inputs {
        grid-template-columns: 1fr;
    }

    .input-group {
        flex-direction: column;
    }

    .input-group button {
        width: 100%;
    }
}
</style>
<script> 
/* ==================== VARIABLES GLOBALES ==================== */ 
let points = []; 
let currentRange = 10; 
 
/* ==================== CONSTANTES MATEMÁTICAS ==================== 
*/ 
const CONSTANTS = { 
    // Constantes básicas 
    'π': Math.PI, 
    'pi': Math.PI, 
    'e': Math.E, 
     
    // Número áureo (phi) 
    'φ': (1 + Math.sqrt(5)) / 2, 
    'phi': (1 + Math.sqrt(5)) / 2, 
     
    // Tau (2π) 
    'τ': 2 * Math.PI, 
    'tau': 2 * Math.PI, 
     
    // Logaritmos naturales 
    'ln2': Math.LN2, 
    'ln10': Math.LN10, 
     
    // Raíces cuadradas comunes 
    '√2': Math.sqrt(2), 
    '√3': Math.sqrt(3), 
    '√5': Math.sqrt(5), 
    '√7': Math.sqrt(7), 
    '√8': Math.sqrt(8), 
    '√10': Math.sqrt(10), 
    '√11': Math.sqrt(11), 
    '√12': Math.sqrt(12), 
    '√13': Math.sqrt(13), 
'√15': Math.sqrt(15), 
'√17': Math.sqrt(17), 
'√19': Math.sqrt(19), 
'√20': Math.sqrt(20), 
// Raíces cuadradas negativas 
'-√2': -Math.sqrt(2), 
'-√3': -Math.sqrt(3), 
'-√5': -Math.sqrt(5) 
}; 
console.log('Variables y constantes inicializadas correctamente');
/* =========== FUNCIÓN PARA CONVERTIR TEXTO EN NÚMERO =========== */ 
function parseNumber(input) { 
    // Limpiar el input de espacios en blanco 
    input = input.trim().replace(/\s+/g, ''); 
 
    // Verificar si es una constante matemática directa 
    if (CONSTANTS.hasOwnProperty(input)) { 
        return CONSTANTS[input]; 
    } 
// Reemplazar constantes matemáticas en la expresión 
let processedInput = input; 
for (const [symbol, value] of Object.entries(CONSTANTS)) { 
    // Crear expresión regular para reemplazar el símbolo 
    const regex = new RegExp(symbol.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g'); 
    processedInput = processedInput.replace(regex, value.toString()); 
} 

// Manejar fracciones simples (sin otros operadores) 
if (input.includes('/') && !input.includes('*') && 
    !input.includes('+') && !input.includes('-', 1)) { 
    const parts = input.split('/'); 
    if (parts.length === 2) { 
        const numerator = parseFloat(parts[0]); 
        const denominator = parseFloat(parts[1]); 
        
        // Verificar que ambos son números válidos y que el denominador no es cero 
        if (!isNaN(numerator) && !isNaN(denominator) && denominator !== 0) { 
            return numerator / denominator; 
        }             
    } 
}

 
    // Manejar raíces cuadradas básicas con símbolo √ 
    if (input.startsWith('√') && !input.includes('*') && 
!input.includes('+') && !input.includes('-', 1)) { 
        const radicand = parseFloat(input.slice(1)); 
        if (!isNaN(radicand) && radicand >= 0) { 
            return Math.sqrt(radicand); 
        } 
    } 
 
    // Manejar raíces cuadradas negativas 
    if (input.startsWith('-√') && !input.includes('*') && 
!input.includes('+')) { 
        const radicand = parseFloat(input.slice(2)); 
        if (!isNaN(radicand) && radicand >= 0) { 
            return -Math.sqrt(radicand); 
        } 
    } 
 
    // Manejar función sqrt() con cualquier expresión dentro 
    if (input.includes('sqrt(')) { 
        const match = input.match(/sqrt\(([^)]+)\)/); 
        if (match) { 
            const innerExpression = match[1]; 
            let innerValue; 
             
            try { 
                // Para fracciones simples dentro de sqrt() 
                if (innerExpression.includes('/') && 
!innerExpression.includes('*') &&  
                    !innerExpression.includes('+') && 
!innerExpression.includes('-', 1)) { 
                    const parts = innerExpression.split('/'); 
                    if (parts.length === 2) { 
                        const num = parseFloat(parts[0]); 
                        const den = parseFloat(parts[1]);
                        if (!isNaN(num) && !isNaN(den) && den !== 0) 
{ 
                            innerValue = num / den; 
                        } 
                    } 
                } else { 
                    // Para otras expresiones, evaluar directamente 
                    const safeChars = /^[0-9+\-*/.() ]+$/; 
                    if (safeChars.test(innerExpression)) { 
                        innerValue = Function('"use strict"; return (' + innerExpression + ')')(); 
                    } else { 
                        innerValue = parseFloat(innerExpression); 
                    } 
                } 
                 
                // Si el valor interno es válido, calcular su raíz 
cuadrada 
                if (!isNaN(innerValue) && innerValue >= 0) { 
                    return Math.sqrt(innerValue); 
                } 
            } catch (e) { 
                // Si falla la evaluación, continuar con el flujo 
normal 
            } 
        } 
    } 
 
    // Evaluar expresiones matemáticas más complejas 
    try { 
        // Reemplazar operadores por equivalentes de JavaScript 
        processedInput = processedInput.replace(/\^/g, '**'); // 
Potencias 
 
        // Verificar que solo contiene caracteres seguros para 
evaluar 
        const safeChars = /^[0-9+\-*/.() ]+$/; 
        if (safeChars.test(processedInput)) { 
            const result = Function('"use strict"; return (' + 
            processedInput + ')')(); 
            if (typeof result === 'number' && !isNaN(result) && 
isFinite(result)) { 
                return result; 
            } 
        } 
    } catch (e) { 
        // Si falla la evaluación, continuar con el parsing normal 
    } 
 
    // Intentar parsear como número decimal normal 
    const num = parseFloat(processedInput); 
    if (!isNaN(num)) { 
        return num; 
    } 
 
    // Si nada funcionó, retornar null 
    return null; 
} 
/* ==================== FUNCIONES DE CLASIFICACIÓN 
==================== */ 
function classifyNumber(num, originalInput) { 
    // Verificar si es un número natural (entero positivo) 
    if (num > 0 && Number.isInteger(num)) { 
        return 'naturals'; 
    } 
     
    // Verificar si es un número entero 
    if (Number.isInteger(num)) { 
        return 'integers'; 
    } 
     
    // Lista de constantes irracionales conocidas 
    const irrationalConstants = [ 
        'π', 'pi', 'e', 'φ', 'phi', 'τ', 'tau', 'ln2', 'ln10',  
        '√2', '√3', '√5', '√7', '√8', '√10', '√11', '√12', '√13', 
'√15', '√17', '√19', '√20', 
        '-√2', '-√3', '-√5' 
    ]; 
     
    // Si es una constante irracional directa 
    if (irrationalConstants.includes(originalInput)) { 
        return 'irrationals'; 
    } 
     
    // Verificar si contiene sqrt() y clasificar según el contenido 
    if (originalInput.includes('sqrt(')) { 
        const sqrtMatch = originalInput.match(/sqrt\(([^)]+)\)/); 
        if (sqrtMatch) { 
            const innerExpression = sqrtMatch[1]; 
            let innerValue;
                        try { 
                // Evaluar lo que está dentro del sqrt() 
                if (innerExpression.includes('/')) { 
                    // Fracción simple 
                    const parts = innerExpression.split('/'); 
                    if (parts.length === 2) { 
                        const num = parseFloat(parts[0]); 
                        const den = parseFloat(parts[1]); 
                        if (!isNaN(num) && !isNaN(den) && den !== 0) 
{ 
                            innerValue = num / den; 
                        } 
                    } 
                } else { 
                    // Número simple 
                    innerValue = parseFloat(innerExpression); 
                } 
                 
                if (!isNaN(innerValue) && innerValue >= 0) { 
                    const sqrtResult = Math.sqrt(innerValue); 
                     
                    // Verificar si es un cuadrado perfecto 
                    if (Number.isInteger(sqrtResult)) { 
                        // Es cuadrado perfecto 
                        if (sqrtResult > 0) { 
                            return 'naturals'; 
                        } else if (sqrtResult === 0) { 
                            return 'integers'; 
                        } 
                    } else { 
                        // No es cuadrado perfecto, es irracional 
                        return 'irrationals'; 
                    } 
                } 
            } catch (e) { 
                // Si hay error en la evaluación, asumir que es 
irracional 
                return 'irrationals'; 
            } 
                    } 
    } 
     
    // Verificar si contiene símbolo √ y no es cuadrado perfecto 
    if (originalInput.includes('√')) { 
        return 'irrationals'; 
    } 
     
    // Analizar expresiones con operaciones matemáticas 
    if (originalInput.includes('*') || originalInput.includes('+') ||  
        originalInput.includes('-') || originalInput.includes('/')) { 
         
        // Lista de símbolos irracionales para detectar en 
expresiones 
        const irrationalSymbols = ['π', 'pi', 'e', 'φ', 'phi', 'τ', 
'tau', 'ln2', 'ln10', '√', 'sqrt']; 
         
        // Verificar si la expresión contiene números irracionales 
        const containsIrrationals = irrationalSymbols.some(symbol => 
originalInput.includes(symbol)); 
         
        if (containsIrrationals) { 
            // Casos especiales donde operaciones con irracionales pueden dar resultado racional 
            const specialRationalCases = [ 
                // Casos como π/π = 1, e/e = 1 
                /π\/π/, /pi\/pi/, /e\/e/, /φ\/φ/, /phi\/phi/, 
/τ\/τ/, /tau\/tau/, 
                /√2\/√2/, /√3\/√3/, /√5\/√5/, 
                 
                // Casos como π - π = 0 
                /π-π/, /pi-pi/, /e-e/, /φ-φ/, /phi-phi/, 
                 
                // Otros casos especiales 
                /2\*π\/τ/, /τ\/2\*π/ 
            ]; 
             
            const isSpecialRational = 
specialRationalCases.some(pattern =>
                pattern.test(originalInput.replace(/\s/g, '')) 
            ); 
             
            if (isSpecialRational) { 
                if (num > 0 && Number.isInteger(num)) { 
                    return 'naturals'; 
                } 
                if (Number.isInteger(num)) { 
                    return 'integers'; 
                } 
                return 'rationals'; 
            } 
             
            // Si contiene irracionales y no es caso especial, es 
irracional 
            return 'irrationals'; 
        } 
    } 
     
    // Verificar si es una fracción simple (racional) 
    if (originalInput.includes('/')) { 
        return 'rationals'; 
    } 
     
    // Si es decimal, asumimos que es racional a menos que se especifique lo contrario 
    return 'rationals'; 
} 
 
function getClassificationName(classification) { 
    const names = { 
        'naturals': 'ℕ (Naturales)', 
        'integers': 'ℤ (Enteros)',  
        'rationals': 'ℚ (Racionales)', 
        'irrationals': 'ℝ-ℚ (Irracionales)' 
    }; 
    return names[classification] || 'No clasificado'; 
}
/* ==================== FUNCIONES DE INTERFAZ DE USUARIO 
==================== */ 
function addNumber() { 
    const input = document.getElementById('numberInput').value; 
     
    if (!input) { 
        alert('Por favor ingresa un número'); 
        return; 
    } 
     
    const value = parseNumber(input); 
    if (value === null) { 
        alert('Formato de número no válido. Ejemplos válidos: sqrt(7), 2*π, 1/e, √2, -1/2'); 
        return; 
    } 
     
    if (Math.abs(value) > currentRange) { 
        alert(`El número está fuera del rango actual 
(-${currentRange} a ${currentRange}). El rango se puede modificar en 
el código.`); 
        return; 
    } 
     
    // Verificar si el punto ya existe (con tolerancia para errores de punto flotante) 
    const existingPoint = points.find(p => Math.abs(p.value - value) 
< 0.0001); 
    if (existingPoint) { 
        alert('Este número ya está en la recta numérica'); 
        return; 
    } 
     
    // Clasificar el número y agregarlo al array
        const classification = classifyNumber(value, input); 
     
    points.push({ 
        value: value, 
        originalInput: input, 
        classification: classification 
    }); 
     
    // Limpiar el input y actualizar la visualización 
    document.getElementById('numberInput').value = ''; 
    updateDisplay(); 
     
    console.log(`Número agregado: ${input} = ${value} 
(${classification})`); 
} 
 
function addPresetNumber(input) { 
    const value = parseNumber(input); 
     
    if (value === null || Math.abs(value) > currentRange) { 
        alert(`El número ${input} está fuera del rango actual`); 
        return; 
    } 
     
    // Verificar si el punto ya existe 
    const existingPoint = points.find(p => Math.abs(p.value - value) 
< 0.0001); 
    if (existingPoint) { 
        alert('Este número ya está en la recta numérica'); 
        return; 
    } 
     
    // Clasificar el número y agregarlo 
    const classification = classifyNumber(value, input); 
     
    points.push({ 
        value: value, 
        originalInput: input, 
        classification: classification 
            }); 
     
    // Actualizar la visualización 
    updateDisplay(); 
     
    console.log(`Número predefinido agregado: ${input} = ${value} 
(${classification})`); 
} 
 
function clearAll() { 
    points = []; 
    updateDisplay(); 
    console.log('Todos los puntos eliminados'); 
} 
 
function updateDisplay() { 
    drawNumberLine(); 
    updatePointsList(); 
    updateDistanceSelectors(); 
} 
/* ==================== FUNCIONES DE VISUALIZACIÓN ==================== */ 
function drawNumberLine() { 
    const numberLine = document.getElementById('numberLine'); 
    numberLine.innerHTML = ''; 
     
    // Crear la línea base de la recta 
    const line = document.createElement('div'); 
    line.className = 'line'; 
    numberLine.appendChild(line); 
     
    // Crear marcas de graduación 
    const tickCount = currentRange * 2 + 1; // De -range a +range 
    for (let i = 0; i < tickCount; i++) { 
        const value = -currentRange + i; 
        const percentage = (i / (tickCount - 1)) * 90 + 5; // 5% de margen a cada lado 
         
        // Crear la marca vertical 
        const tick = document.createElement('div'); 
        tick.className = 'tick'; 
        tick.style.left = percentage + '%'; 
        numberLine.appendChild(tick); 
         
        // Crear la etiqueta numérica 
        const label = document.createElement('div'); 
        label.className = 'tick-label'; 
        label.style.left = percentage + '%'; 
        label.textContent = value; 
        numberLine.appendChild(label); 
    } 
     
    // Agregar los puntos de números agregados 
    points.forEach((point, index) => { 
                const percentage = ((point.value + currentRange) / (2 * 
currentRange)) * 90 + 5; 
         
        // Crear el elemento visual del punto 
        const pointElement = document.createElement('div'); 
        pointElement.className = `number-point 
${point.classification}`; 
        pointElement.style.left = percentage + '%'; 
        pointElement.draggable = false; 
         
        // Crear la etiqueta del punto 
        const pointLabel = document.createElement('div'); 
        pointLabel.className = 'point-label'; 
        pointLabel.textContent = `${point.originalInput} ≈ 
${point.value.toFixed(3)}`; 
        pointElement.appendChild(pointLabel); 
         
        // Agregar evento de clic para eliminar 
        pointElement.onclick = () => removePoint(index); 
        pointElement.title = `${point.originalInput} 
(${getClassificationName(point.classification)})\nHaz clic para 
eliminar`; 
         
        numberLine.appendChild(pointElement); 
    }); 
} 
 
function removePoint(index) { 
    if (confirm('¿Deseas eliminar este punto?')) { 
        const removedPoint = points.splice(index, 1)[0]; 
        updateDisplay(); 
        console.log(`Punto eliminado: 
${removedPoint.originalInput}`); 
    } 
} 
 
function updatePointsList() { 
    const pointsList = document.getElementById('pointsList'); 
        // Si no hay puntos, mostrar mensaje informativo 
    if (points.length === 0) { 
        pointsList.innerHTML = ` 
            <div class="empty-state"> 
                <p>Agrega números para ver su clasificación 
automática aquí</p> 
                <small>Los puntos aparecerán ordenados de menor a 
mayor</small> 
            </div> 
        `; 
        return; 
    } 
     
    // Ordenar puntos por valor de menor a mayor 
    const sortedPoints = [...points].sort((a, b) => a.value - 
b.value); 
     
    // Generar HTML para cada punto 
    pointsList.innerHTML = sortedPoints.map(point => ` 
        <div class="point-item" style="border-left: 4px solid 
${getClassificationColor(point.classification)}"> 
            <div> 
                <strong>${point.originalInput}</strong> ≈ 
${point.value.toFixed(6)} 
                <br> 
                
<small>${getClassificationName(point.classification)}</small> 
            </div> 
            <div style="text-align: right;"> 
                <small>Posición: ${point.value.toFixed(3)}</small> 
            </div> 
        </div> 
    `).join(''); 
} 
 
function getClassificationColor(classification) { 
    const colors = { 
        'naturals': '#e74c3c',    // Rojo 
        'integers': '#3498db',    // Azul 
        'rationals': '#27ae60',   // Verde 
'irrationals': '#f1c40f'  // Amarillo 
}; 
return colors[classification] || '#95a5a6'; 
} 
/* ==================== CALCULADORA DE DISTANCIAS 
==================== */ 
function updateDistanceSelectors() { 
    const pointAItems = document.getElementById('pointA-items'); 
    const pointBItems = document.getElementById('pointB-items'); 
    const pointASelected = 
document.getElementById('pointA-selected'); 
    const pointBSelected = 
document.getElementById('pointB-selected'); 
     
    // Limpiar las opciones existentes 
    pointAItems.innerHTML = '<div data-value="">Selecciona un punto</div>'; 
    pointBItems.innerHTML = '<div data-value="">Selecciona un punto</div>'; 
     
    // Resetear el texto seleccionado si no hay puntos 
    if (points.length === 0) { 
        pointASelected.textContent = 'Selecciona un punto'; 
        pointBSelected.textContent = 'Selecciona un punto'; 
        
document.getElementById('pointA-container').setAttribute('data-value'
 , ''); 
        
document.getElementById('pointB-container').setAttribute('data-value'
 , ''); 
        return; 
    } 
     
    // Agregar cada punto como opción en ambos selectores 
    points.forEach((point, index) => { 
        const optionText = `${point.originalInput} 
(${point.value.toFixed(3)})`; 
        // Crear opción para el selector A 
        const optionA = document.createElement('div'); 
        optionA.setAttribute('data-value', index); 
        optionA.textContent = optionText; 
        optionA.onclick = () => selectPoint('A', index, optionText); 
        pointAItems.appendChild(optionA); 
         
        // Crear opción para el selector B 
        const optionB = document.createElement('div'); 
        optionB.setAttribute('data-value', index); 
        optionB.textContent = optionText; 
        optionB.onclick = () => selectPoint('B', index, optionText); 
        pointBItems.appendChild(optionB); 
    }); 
} 
 
function selectPoint(selector, index, text) { 
    document.getElementById(`point${selector}-selected`).textContent 
= text; 
    
document.getElementById(`point${selector}-container`).setAttribute('d ata-value', index); 
    
document.getElementById(`point${selector}-items`).classList.remove('s how'); 
} 
 
function calculateDistance() { 
    const pointAValue = 
document.getElementById('pointA-container').getAttribute('data-value'
 ); 
    const pointBValue = 
document.getElementById('pointB-container').getAttribute('data-value'
 ); 
    const resultDiv = document.getElementById('distanceResult'); 
 
    // Verificar que ambos puntos estén seleccionados 
    if (!pointAValue || !pointBValue) {
                resultDiv.innerHTML = '<div style="color: #dc3545; text-align center; padding: 15px;">Selecciona ambos puntos para calcular la distancia</div>'; 
        return; 
    } 
 
    // Verificar que los puntos sean diferentes 
    if (pointAValue === pointBValue) { 
        resultDiv.innerHTML = '<div style="color: #dc3545; text-align: center; padding: 15px;">Selecciona dos puntos diferentes</div>'; 
        return; 
    } 
 
    // Obtener los puntos seleccionados 
    const pointA = points[parseInt(pointAValue)]; 
    const pointB = points[parseInt(pointBValue)]; 
     
    // Calcular la distancia como valor absoluto de la diferencia 
    const distance = Math.abs(pointA.value - pointB.value); 
 
    // Mostrar el resultado formateado 
    resultDiv.innerHTML = ` 
        <div class="distance-result"> 
            <strong>Distancia entre ${pointA.originalInput} y 
${pointB.originalInput}:</strong><br> 
            <strong>d(a,b) = |${pointA.value.toFixed(3)} - 
${pointB.value.toFixed(3)}| = ${distance.toFixed(6)} 
unidades</strong> 
        </div> 
    `; 
     
    console.log(`Distancia calculada: |${pointA.value} - 
${pointB.value}| = ${distance}`); 
} 
 
/* ==================== EVENT LISTENERS Y INICIALIZACIÓN 
==================== */ 
// Event listener para detectar Enter en el input de números 
document.getElementById('numberInput').addEventListener('keypress', 
function(e) { 
    if (e.key === 'Enter') { 
        addNumber(); 
    } 
}); 
 
// Event listeners para manejar los dropdowns personalizados 
document.getElementById('pointA-selected').onclick = function(e) { 
    e.stopPropagation(); 
    const items = document.getElementById('pointA-items'); 
    const isOpen = items.classList.contains('show'); 
     
    // Cerrar todos los dropdowns primero 
    document.querySelectorAll('.select-items').forEach(item => { 
        item.classList.remove('show'); 
    }); 
     
    // Alternar el estado del dropdown clickeado 
    if (!isOpen) { 
        items.classList.add('show'); 
    } 
}; 
 
document.getElementById('pointB-selected').onclick = function(e) { 
    e.stopPropagation(); 
    const items = document.getElementById('pointB-items'); 
    const isOpen = items.classList.contains('show'); 
     
    // Cerrar todos los dropdowns primero 
    document.querySelectorAll('.select-items').forEach(item => { 
        item.classList.remove('show'); 
    }); 
     
    // Alternar el estado del dropdown clickeado 
    if (!isOpen) { 
        items.classList.add('show'); 
    } 
    }; 
// Cerrar dropdowns al hacer clic fuera de ellos 
document.addEventListener('click', function(e) { 
if (!e.target.closest('.custom-select')) { 
document.querySelectorAll('.select-items').forEach(item => { 
item.classList.remove('show'); 
}); 
} 
}); 
// Inicializar la aplicación 
console.log('Aplicación inicializada correctamente'); 
updateDisplay();  
</script> 
<body>
</div>
</div>
    <div class="container"> 
        <h1>Visualizador de la Recta Numérica</h1> 
        <p>Tecnológico de Software • Fundamentos de Álgebra • 1° 
Cuatrimestre 2025</p>
<section class="controls"> 
    <h2>Controles de Entrada</h2>
    
    <div class="input-group"> 
         <label for="numberInput">Valor del número:</label> 
         <input type="text" id="numberInput"  
                placeholder="Ej: sqrt(7), 2*π, √2, 1/3"> 

         <button type="button" onclick="addNumber()"> 
             Agregar Número 
         </button> 
         <button type="button" onclick="clearAll()"> 
             Limpiar Todo 
         </button>  
    </div>
    <div class="preset-section"> 
    <h3>Números Predefinidos</h3> 
    <p>Haz clic en cualquier número para agregarlo automáticamente:</p> 
     
    <div class="preset-numbers"> 
        <span class="preset-btn" onclick="addPresetNumber('π')">π</span> 
        <span class="preset-btn" onclick="addPresetNumber('e')">e</span> 
        <span class="preset-btn" onclick="addPresetNumber('√2')">√2</span> 
        <span class="preset-btn" onclick="addPresetNumber('√3')">√3</span> 
        <span class="preset-btn" onclick="addPresetNumber('φ')">φ</span> 
        <span class="preset-btn" 
onclick="addPresetNumber('1/3')">1/3</span> 
        <span class="preset-btn" 
onclick="addPresetNumber('-1/2')">-1/2</span> 
        <span class="preset-btn" 
onclick="addPresetNumber('2.5')">2.5</span> 
        <span class="preset-btn" 
onclick="addPresetNumber('-√2')">-√2</span> 
        <span class="preset-btn" 
onclick="addPresetNumber('2*π')">2*π</span> 
    </div> 
</div>
<section class="number-line-container"> 
<h2>Recta Numérica Interactiva</h2> 
<div class="number-line" id="numberLine"> 
<!-- Los elementos de la recta se generan dinámicamente con 
JavaScript --> 
</div> 
<p class="range-info"> 
<small>Rango de visualización: -10 a +10 (números fuera de 
este rango no se mostrarán)</small> 
</p> 
</section>
<section class="info-panels"> 
    <!-- Panel de clasificación de conjuntos numéricos --> 
    <div class="classification-panel"> 
        <h3>Clasificación de Conjuntos Numéricos</h3> 
        <div class="classification-legend"> 
            <div class="legend-item"> 
                <div class="legend-color naturals"></div> 
                <span><strong>ℕ - Naturales:</strong> {1, 2, 3, 4, 
...}</span> 
            </div> 
            <div class="legend-item"> 
                <div class="legend-color integers"></div> 
                <span><strong>ℤ - Enteros:</strong> {..., -2, -1, 0, 
1, 2, ...}</span> 
            </div> 
            <div class="legend-item"> 
                <div class="legend-color rationals"></div> 
                <span><strong>ℚ - Racionales:</strong> Fracciones y 
decimales finitos/periódicos</span> 
            </div> 
            <div class="legend-item"> 
                <div class="legend-color irrationals"></div> 
                <span><strong>ℝ-ℚ - Irracionales:</strong> π, e, √2, 
decimales infinitos no periódicos</span> 
            </div> 
        </div> 
         
        <div class="classification-info"> 
            <h4>Propiedades importantes:</h4> 
            <ul> 
                <li><strong>ℕ ⊂ ℤ:</strong> Todo número natural es 
entero</li> 
                <li><strong>ℤ ⊂ ℚ:</strong> Todo entero puede 
escribirse como fracción</li>
                <li><strong>ℚ ∪ (ℝ-ℚ) = ℝ:</strong> Los reales son 
la unión de racionales e irracionales</li> 
                <li><strong>ℚ ∩ (ℝ-ℚ) = ∅:</strong> No existen 
números que sean ambos</li> 
            </ul> 
        </div> 
    </div>
    <!-- Panel de lista de puntos --> 
    <div class="points-panel"> 
        <h3>Puntos en la Recta</h3> 
        <div id="pointsList"> 
            <div class="empty-state"> 
                <p>Agrega números para ver su clasificación 
automática aquí</p> 
                <small>Los puntos aparecerán ordenados de menor a 
mayor</small> 
            </div> 
        </div> 
    </div>
    <!-- Panel calculadora de distancias --> 
    <div class="distance-calculator"> 
        <h3>Calculadora de Distancias</h3> 
        <p class="calculator-description"> 
            Selecciona dos puntos para calcular la distancia entre 
ellos en la recta numérica. 
        </p> 
         
        <div class="distance-inputs"> 
            <div class="distance-field">
                <label>Punto A:</label> 
                <div class="custom-select" id="pointA-container"> 
                    <div class="select-selected" 
id="pointA-selected">Selecciona un punto</div> 
                    <div class="select-items" id="pointA-items"> 
                        <div data-value="">Selecciona un punto</div> 
                    </div> 
                </div> 
            </div> 
 
            <div class="distance-field"> 
                <label>Punto B:</label> 
                <div class="custom-select" id="pointB-container"> 
                    <div class="select-selected" 
id="pointB-selected">Selecciona un punto</div> 
                    <div class="select-items" id="pointB-items"> 
                        <div data-value="">Selecciona un punto</div> 
                    </div> 
                </div> 
            </div> 
        </div> 
 
        <button type="button" class="distance-btn" 
onclick="calculateDistance()"> 
            Calcular Distancia 
        </button> 
         
        <div id="distanceResult"> 
            <div class="distance-placeholder"> 
                <div><strong>Calculadora de Distancias</strong></div> 
                <div>Los resultados aparecerán aquí</div> 
            </div> 
        </div> 
    </div> 
</section> 
</section>  
    </div>
<div style="
    max-width: 900px;
    margin: 0 auto 30px auto;
    background: linear-gradient(90deg, #e3f2fd 0%, #fce4ec 100%);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    padding: 24px 32px;
    border: none;
    font-size: 16px;
    color: #1a237e;
">
    <strong>Institución:</strong> Tecnológico de Software<br>
    <strong>Materia:</strong> Fundamento de Álgebra<br>
    <strong>Docente:</strong> Jorge Javier Pedroza Romero<br>
    <strong>Alumno:</strong> Enrique Zavala<br>
    <strong>Grupo:</strong> C
</div>
</body> 
</html>